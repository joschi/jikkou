<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.100.1"><link rel=canonical type=text/html href=https://streamthoughts.github.io/jikkou/docs/concepts/><link rel=alternate type=application/rss+xml href=https://streamthoughts.github.io/jikkou/docs/concepts/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/jikkou/favicons/favicon.ico><link rel=apple-touch-icon href=/jikkou/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/jikkou/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/jikkou/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/jikkou/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/jikkou/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/jikkou/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/jikkou/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/jikkou/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/jikkou/favicons/android-192x192.png sizes=192x192><title>Concepts | Jikkou</title><meta name=description content="Learn the differents concepts used within Jikkou
"><meta property="og:title" content="Concepts"><meta property="og:description" content="Learn the differents concepts used within Jikkou
"><meta property="og:type" content="website"><meta property="og:url" content="https://streamthoughts.github.io/jikkou/docs/concepts/"><meta property="og:site_name" content="Jikkou"><meta itemprop=name content="Concepts"><meta itemprop=description content="Learn the differents concepts used within Jikkou
"><meta name=twitter:card content="summary"><meta name=twitter:title content="Concepts"><meta name=twitter:description content="Learn the differents concepts used within Jikkou
"><link rel=preload href=/jikkou/scss/main.min.c3d91ad9b4704341bf145fad47d34388c084ae6d9688919be2f4d9e8c0eadaeb.css as=style><link href=/jikkou/scss/main.min.c3d91ad9b4704341bf145fad47d34388c084ae6d9688919be2f4d9e8c0eadaeb.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/jikkou/><span class=navbar-logo></span><span class=font-weight-bold>Jikkou</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/jikkou/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/jikkou/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/streamthoughts/jikkou target=_blank><span>GitHub</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/jikkou/docs/concepts/>Return to the regular view of this page</a>.</p></div><h1 class=title>Concepts</h1><div class=lead>Learn the differents concepts used within Jikkou</div><ul><li>1: <a href=#pg-228595a5f78930d052290e4aaeada300>Resource</a></li><li>2: <a href=#pg-a544d63080bd36773f857cbf30e7a4f0>Labels and annotations</a></li><li>3: <a href=#pg-2fa12641b6499084dcd84e2633142a69>Reconciliation</a></li><li>4: <a href=#pg-8a3a399737f8816277cdeba511b1ee17>Selectors</a></li></ul><div class=content><div class="pageinfo pageinfo-primary"><p>This section explains key concepts used within Jikkou:</p></div></div></div><div class=td-content><h1 id=pg-228595a5f78930d052290e4aaeada300>1 - Resource</h1><div class="pageinfo pageinfo-info"><p><em>Jikkou Resources</em> are entities that represent the state of a concrete instance of a concept that are part of the state
of your system, like a Topic on an Apache Kafka cluster.</p></div><h2 id=resource-objects>Resource Objects</h2><p>All resources can be distinguished between <em>persistent objects</em>, which are used to describe the desired state of your
system, and <em>transient objects</em>, which are only used to enrich or provide additional capabilities for the definition of
persistent objects.</p><p>A resource is an object with a type (called a <em>Kind</em>) and a concrete model that describe the associated data.
All resource are scoped by an API <em>Group</em> and <em>Version</em>.</p><h2 id=resource-definition>Resource Definition</h2><p>Resources are described in YAML format.</p><p>Here is a sample resource that described a Kafka Topic.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;kafka.jikkou.io/v1beta2&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>kind</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>KafkaTopic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;my-topic&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>test</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>annotations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>{}<span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>partitions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>min.insync.replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>cleanup.policy</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;delete&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=resource-properties>Resource Properties</h2><p>The following are the properties that can be set to describe a resource:</p><table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody><tr><td><code>apiVersion</code></td><td>The <code>group/version</code> of the resource type.</td></tr><tr><td><code>kind</code></td><td>The type of the describe resource.</td></tr><tr><td><code>metadata.name</code></td><td>An optional name to identify the resource.</td></tr><tr><td><code>metadata.labels</code></td><td>Arbitrary metadata to attach to the resource that can be handy when you have a lot of resources and you only need to identity or filters some objects.</td></tr><tr><td><code>metadata.annotations</code></td><td>Arbitrary non-identifying metadata to attach to the resource to mark them for a specific operation or to record some metadata.</td></tr><tr><td><code>spec</code></td><td>The object properties describing a desired state</td></tr><tr><td></td><td></td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-a544d63080bd36773f857cbf30e7a4f0>2 - Labels and annotations</h1><h2 id=labels>Labels</h2><p>You can use labels to attach arbitrary identifying metadata to objects.</p><p>Labels are key/value maps:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>&#34;key1&#34;: </span><span style=color:#4e9a06>&#34;value-1&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>&#34;key2&#34;: </span><span style=color:#4e9a06>&#34;value-2&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><div class="alert alert-info" role=alert><h4 class=alert-heading>Note</h4>The keys in the map must be string, but values can be any scalar types (<em>string</em>, <em>boolean</em>, or <em>numeric</em>).</div><div class="alert alert-warning" role=alert><h4 class=alert-heading>Labels are not persistent</h4>Jikkou is completely stateless. In other words, it will not store any state about the describe resources objects. Thus, when
retrieving objects from your system labels may not be reattached to the metadata objects.</div><h4 id=example>Example</h4><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;stating&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=annotations>Annotations</h2><p>You can use annotations to attach arbitrary non-identifying metadata to objects.</p><p>Annotations are key/value maps:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>annotations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>key1</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;value-1&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>key2</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;value-2&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><div class="alert alert-info" role=alert><h4 class=alert-heading>Note</h4>The keys in the map must be string, but the values can be of any scalar types (<em>string</em>, <em>boolean</em>, or <em>numeric</em>).</div><h3 id=built-in-annotations>Built-in Annotations</h3><h4 id=jikkouioignore><code>jikkou.io/ignore</code></h4><p>Used on: All Objects.</p><p>This annotation indicates whether the object should be ignored for reconciliation.</p><h4 id=jikkouiodelete><code>jikkou.io/delete</code></h4><p>Used on: All Objects.</p><p>This annotation indicates (<em>when set to <code>true</code></em>) that the object should be deleted from your system.</p><h4 id=jikkouioresource-location><code>jikkou.io/resource-location</code></h4><p>Used by jikkou.</p><p>This annotation is automatically added by Jikkou to an object when loaded from your local filesystem.</p><h4 id=jikkouioitems-count><code>jikkou.io/items-count</code></h4><p>Used by jikkou.</p><p>This annotation is automatically added by Jikkou to an object collection grouping several resources of homogeneous type.</p><h4 id=kafkajikkouiocluster-id><code>kafka.jikkou.io/cluster-id</code></h4><p>Used by jikkou.</p><p>The annotation is automatically added by Jikkou to a describe object part of an Apache Kafka cluster.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-2fa12641b6499084dcd84e2633142a69>3 - Reconciliation</h1><div class="pageinfo pageinfo-info"><p>In the context of Jikkou, reconciliation refers to the process by which the current state of a desired object
is compared to the actual state of the system and any differences (called <em>changes</em>) between the two are reconciled or
corrected.</p></div><h3 id=changes>Changes</h3><p>A <em>Change</em> represents a difference, detected during reconciliation, between two objects that can reconciled or
corrected by adding, updating, or deleting an object or property attached to the actual state of the system.</p><p>Jikkou computes four types of changes:</p><ul><li><strong>ADD</strong>: Indicates that a new object or a property of an existing object was added.</li><li><strong>UPDATE</strong>: Indicates that an existing object or a property of an existing object was changed.</li><li><strong>DELETE</strong>: Indicates that an existing object must be deleted or a property of an existing object was removed.</li><li><strong>NONE</strong>: Indicates that an existing object or property was not changed.</li></ul><h3 id=reconciliation-modes>Reconciliation Modes</h3><p>Depending on the chosen reconciliation mode, only specific types of changes may be applied.</p><p>Jikkou defines the following four distinct reconciliation modes:</p><p>Jikkou offers four distinct reconciliation modes that determine which types of changes will be applied:</p><ul><li><strong>CREATE</strong>: Only changes that create new resource objects on your system will be applied.</li><li><strong>DELETE</strong>: Only changes that delete existing resource objects on your system will be applied.</li><li><strong>UPDATE</strong>: Only changes that create or update existing resource objects on your system will be applied.</li><li><strong>APPLY_ALL</strong>: Apply all changes to ensure that the actual state of a resource in the cluster matches the desired
state as defined in your resource definition file, regardless of the specific type of change.</li></ul><div class="alert alert-info" role=alert><h4 class=alert-heading>Note</h4>The reconciliation modes listed above correspond to the <em>commands</em> available through the Jikkou CLI.</div></div><div class=td-content style=page-break-before:always><h1 id=pg-8a3a399737f8816277cdeba511b1ee17>4 - Selectors</h1><div class="pageinfo pageinfo-info"><p>You can use <em>selectors</em> to select only a subset of resource objects to describe from your system or for which you want
to perform a reconciliation process.</p></div><h2 id=field-selector-default>Field Selector (default)</h2><p>Jikkou provides the built-in <code>FieldSelector</code> that allows you to filter resource objects based on a <em>field key</em>.</p><h3 id=selector-expression>Selector Expression</h3><p>The expression below shows you how to select only resource having a label <code>environement</code> equals to either <code>staging</code> or <code>production</code>.</p><pre tabindex=0><code>metadata.labels.environement IN (staging,production)
</code></pre><h3 id=expression-operators>Expression Operators</h3><p>Five kinds of operators are supported:</p><ul><li><strong>IN</strong></li><li><strong>NOTIN</strong></li><li><strong>EXISTS</strong></li><li><strong>MATCHES</strong></li><li><strong>DOESNOTMATCH</strong></li></ul><div class="alert alert-info" role=alert><h4 class=alert-heading>Using JIKKOU CLI</h4>Selectors can be specified via the Jikkou CLI option: <code>--selector</code>.</div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/streamthought_ aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/streamthoughts/jikkou aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Jikkou Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/jikkou/js/tabpane-persist.js></script>
<script src=/jikkou/js/main.min.4b36622378848c3a178bdfe687d6d1e7d4fba865dc45eedfa77ddfc872a1b934.js integrity="sha256-SzZiI3iEjDoXi9/mh9bR59T7qGXcRe7fp33fyHKhuTQ=" crossorigin=anonymous></script></body></html>