<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.100.1"><link rel=canonical type=text/html href=/docs/user-guide/><link rel=alternate type=application/rss+xml href=/docs/user-guide/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>User Guide | Jikkou</title><meta name=description content="Learn how to use Jikkou for managing resource entities on you Apache Kafka cluster.
"><meta property="og:title" content="User Guide"><meta property="og:description" content="Learn how to use Jikkou for managing resource entities on you Apache Kafka cluster.
"><meta property="og:type" content="website"><meta property="og:url" content="/docs/user-guide/"><meta property="og:site_name" content="Jikkou"><meta itemprop=name content="User Guide"><meta itemprop=description content="Learn how to use Jikkou for managing resource entities on you Apache Kafka cluster.
"><meta name=twitter:card content="summary"><meta name=twitter:title content="User Guide"><meta name=twitter:description content="Learn how to use Jikkou for managing resource entities on you Apache Kafka cluster.
"><link rel=preload href=/scss/main.min.c3d91ad9b4704341bf145fad47d34388c084ae6d9688919be2f4d9e8c0eadaeb.css as=style><link href=/scss/main.min.c3d91ad9b4704341bf145fad47d34388c084ae6d9688919be2f4d9e8c0eadaeb.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo></span><span class=font-weight-bold>Jikkou</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/streamthoughts/jikkou target=_blank><span>GitHub</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This is the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=/docs/user-guide/>Return to the regular view of this page</a>.</p></div><h1 class=title>User Guide</h1><div class=lead>Learn how to use Jikkou for managing resource entities on you Apache Kafka cluster.</div><ul><li>1: <a href=#pg-24942cf6ae35b5a98480a8e6c76dc272>Topics</a></li><ul></ul><li>2: <a href=#pg-7fa31e45f4abe4f1e1c1336ac250c5c2>ACLs</a></li><ul></ul><li>3: <a href=#pg-28aa2c325f10209e8fcf190b6c2b8f95>Quotas</a></li><ul></ul><li>4: <a href=#pg-f0e4e590ff7bcc34710bd5693e8fa6e9>Template</a></li><ul></ul><li>5: <a href=#pg-71bc1e6fdc1951004479e19314dd3b2c>Validations</a></li><ul></ul><li>6: <a href=#pg-3089d7a09c37e3ba44ee5d7f2245244c>Transformations</a></li><ul></ul><li>7: <a href=#pg-dccd21df1000ed2be16ff25dbd562e3f>Kafka Resource Manager</a></li><ul></ul><li>8: <a href=#pg-dbc4c5b712c5b3b03db289f980a70e0b>Extensions</a></li><ul></ul></ul><div class=content><div class="pageinfo pageinfo-primary"><p>The User Guide section helps you learn about the functionalities of Jikkou and the concepts
Jikkou uses to manage kafka resources, and helps you obtain a deeper understanding of how Jikkou works.</p></div></div></div><div class=td-content><h1 id=pg-24942cf6ae35b5a98480a8e6c76dc272>1 - Topics</h1><div class=lead>Learn how to use validation rules for ensuring resource entity configurations meets your requirements before being created and/or updated.</div><h2 id=the-resource-specification-file>The Resource Specification File</h2><p>The <em>resource specification file</em> for defining <code>topics</code> contains the following fields:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># The jikkou API version (required)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>topics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># A list of the topics to manage (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The name of the topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>partitions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The number of partitions</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>replication_factor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The number of replications</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> 
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>example</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the topic config properties keyed by name to override (optional).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>config_map_refs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>A list of configs to apply to this topic (optional).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=usage>Usage</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jikkou topics -h   
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Apply the Topic changes described by your specs-file against the Kafka cluster you are currently pointing at.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>jikkou topics <span style=color:#ce5c00;font-weight:700>[</span>-hV<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>COMMAND<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Description:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>This <span style=color:#204a87>command</span> can be used to create, alter, delete or describe Topics on a remote Kafka cluster
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  -h, --help      Show this <span style=color:#204a87>help</span> message and exit.
</span></span><span style=display:flex><span>  -V, --version   Print version information and exit.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Commands:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  alter     Alter the topic configurations as describe in the specification file.
</span></span><span style=display:flex><span>  apply     Apply all changes to the Kafka topics.
</span></span><span style=display:flex><span>  create    Create the topics missing on the cluster as describe in the specification file.
</span></span><span style=display:flex><span>  delete    Delete all topics not described in the specification file.
</span></span><span style=display:flex><span>  describe  Describe all the topics that currently exist on the remote Kafka cluster.
</span></span><span style=display:flex><span>  <span style=color:#204a87>help</span>      Displays <span style=color:#204a87>help</span> information about the specified <span style=color:#204a87>command</span>
</span></span></code></pre></div><h2 id=example>Example</h2><p><strong>Resource Specification File</strong></p><p>Create a file named <code>kafka-topics.yaml</code> with the following content:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>topics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{ values.topic_prefix | default(&#39;&#39;) }}my-topic&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>partitions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>6</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>replication_factor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>3</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>min.insync.replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>2</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>You can notice that in the above file we have used variable substitution, written in double braces, to dynamically define a prefix for our topic.</p><p><strong>Command</strong></p><p>Run the following command to create and/or update the topics declared in the resource file.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jikkou --bootstrap-servers localhost:9092 topics apply <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>--files kafka-topics.yaml <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>--set-value <span style=color:#000>topic_prefix</span><span style=color:#ce5c00;font-weight:700>=</span>dev- <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>--verbose
</span></span></code></pre></div><p>In command above, the <code>--set-value</code> is used to pass the value of the <code>topic_prefix</code> variable.</p><p>In addition, we use the <code>--verbose</code> flag to display all the details about the changes that have been applied to the target cluster.</p><p><strong>Output</strong></p><pre tabindex=0><code>TASK [CREATE] Create a new topic dev-my-topic (partitions=6, replicas=3) - CHANGED **********************
{
  &#34;changed&#34; : true,
  &#34;end&#34; : 1634071489773,
  &#34;resource&#34; : {
    &#34;name&#34; : &#34;dev-my-topic&#34;,
    &#34;operation&#34; : &#34;ADD&#34;,
    &#34;partitions&#34; : {
      &#34;after&#34; : 6,
      &#34;operation&#34; : &#34;ADD&#34;
    },
    &#34;replication_factor&#34; : {
      &#34;after&#34; : 3,
      &#34;operation&#34; : &#34;ADD&#34;
    },
    &#34;configs&#34; : {
      &#34;min.insync.replicas&#34; : {
        &#34;after&#34; : &#34;2&#34;,
        &#34;operation&#34; : &#34;ADD&#34;
      }
    }
  },
  &#34;failed&#34; : false,
  &#34;status&#34; : &#34;CHANGED&#34;
}
EXECUTION in 2s 661ms
ok : 0, created : 1, altered : 0, deleted : 0 failed : 0
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-7fa31e45f4abe4f1e1c1336ac250c5c2>2 - ACLs</h1><div class=lead>Learn how to describe ACL policies.</div><p>Jikkou can be used to describe all ACL policies that need to be created on Kafka Cluster</p><h2 id=the-resource-specification-file>The Resource Specification File</h2><p>The <em>resource specification file</em> for defining <code>acls</code> contains the following fields:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># The jikkou API version (required)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>security</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the roles that can be assigned to users (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000>The name of the role</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>permissions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># A list of the permissions to add to the role</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span>- <span style=color:#204a87;font-weight:700>resource</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the resources to add to the role</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The type of the resources, i.e., topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>pattern</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The pattern to be used for matching resources</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>pattern_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The type of the pattern</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span><span style=color:#204a87;font-weight:700>allow_operations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the operations allowed for this role</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the users to manage</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>principal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The principal of the user</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the role to add to the user (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>permissions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#8f5902;font-style:italic># A list of the permissions to add to the user (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span>- <span style=color:#204a87;font-weight:700>resource</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the resources to add to the user</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The type of the resources, i.e., topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>pattern</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The pattern to be used for matching resources</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>pattern_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The type of the pattern</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>allow_operations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># A list of the operations allowed for this user</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=usage>Usage</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jikkou acls -h
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Usage:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Apply the ACLs changes described by your specs-file against the Kafka cluster you are currently pointing at.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>jikkou acls <span style=color:#ce5c00;font-weight:700>[</span>-hV<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>COMMAND<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Description:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>This <span style=color:#204a87>command</span> can be used to create ACLs on a remote Kafka cluster
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  -h, --help      Show this <span style=color:#204a87>help</span> message and exit.
</span></span><span style=display:flex><span>  -V, --version   Print version information and exit.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Commands:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  apply     Apply all changes to the Kafka ACLs.
</span></span><span style=display:flex><span>  create    Create the ACL policies missing on the cluster as describe in the specification file.
</span></span><span style=display:flex><span>  delete    Delete all ACL policies not described in the specification file.
</span></span><span style=display:flex><span>  describe  Describe all the ACLs that currently exist on remote cluster.
</span></span><span style=display:flex><span>  <span style=color:#204a87>help</span>      Displays <span style=color:#204a87>help</span> information about the specified <span style=color:#204a87>command</span>
</span></span></code></pre></div><h2 id=examples>Examples</h2><p><strong>Resource Specification File</strong></p><p>Create a file named <code>kafka-security.yaml</code> with the following content:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>security</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;AdminTopics&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>permissions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span>- <span style=color:#204a87;font-weight:700>resource</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;topic&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>pattern</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;*&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>pattern_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;LITERAL&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>allow_operations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;ALL:*&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;AdminGroups&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>permissions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>          </span>- <span style=color:#204a87;font-weight:700>resource</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;group&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>pattern</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;*&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>              </span><span style=color:#204a87;font-weight:700>pattern_type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;LITERAL&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>allow_operations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#39;ALL:*&#39;</span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>users</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>principal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;User:admin&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;AdminTopics&#39;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;AdminGroups&#39;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>principal</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;User:admin-topics&#39;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>roles</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;AdminTopics&#39;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>In the above file, we define multiple <em>roles</em> to apply to our <em>principals</em>. Jikkou will take care of creating all corresponding ACLs policies.</p><p><strong>Command</strong></p><p>Run the following command to create and/or update the ACLs declared in the resource file.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jikkou --bootstrap-servers localhost:9092 acls apply --files kafka-security.yml
</span></span></code></pre></div><p><strong>Output</strong></p><pre tabindex=0><code>TASK [CREATE] Create a new ACL (ALLOW User:admin-user to ALL TOPIC:LITERAL:*) - CHANGED *****************
{
  &#34;changed&#34; : true,
  &#34;end&#34; : 1633980549689,
  &#34;resource&#34; : {
    &#34;operation&#34; : &#34;ADD&#34;,
    &#34;principal_type&#34; : &#34;User&#34;,
    &#34;principal_name&#34; : &#34;admin-user&#34;,
    &#34;resource_pattern&#34; : &#34;*&#34;,
    &#34;pattern_type&#34; : &#34;LITERAL&#34;,
    &#34;resource_type&#34; : &#34;TOPIC&#34;,
    &#34;operation&#34; : &#34;ALL&#34;,
    &#34;permission&#34; : &#34;ALLOW&#34;,
    &#34;host&#34; : &#34;*&#34;,
    &#34;name&#34; : &#34;admin-user&#34;,
    &#34;principal&#34; : &#34;User:admin-user&#34;
  },
  &#34;failed&#34; : false,
  &#34;status&#34; : &#34;CHANGED&#34;
}
TASK [CREATE] Create a new ACL (ALLOW User:kafka-user to ALL GROUP:LITERAL:*) - CHANGED *****************
{
  &#34;changed&#34; : true,
  &#34;end&#34; : 1633980549689,
  &#34;resource&#34; : {
    &#34;operation&#34; : &#34;ADD&#34;,
    &#34;principal_type&#34; : &#34;User&#34;,
    &#34;principal_name&#34; : &#34;kafka-user&#34;,
    &#34;resource_pattern&#34; : &#34;*&#34;,
    &#34;pattern_type&#34; : &#34;LITERAL&#34;,
    &#34;resource_type&#34; : &#34;GROUP&#34;,
    &#34;operation&#34; : &#34;ALL&#34;,
    &#34;permission&#34; : &#34;ALLOW&#34;,
    &#34;host&#34; : &#34;*&#34;,
    &#34;name&#34; : &#34;kafka-user&#34;,
    &#34;principal&#34; : &#34;User:kafka-user&#34;
  },
  &#34;failed&#34; : false,
  &#34;status&#34; : &#34;CHANGED&#34;
}
TASK [CREATE] Create a new ACL (ALLOW User:kafka-user to ALL TOPIC:LITERAL:*) - CHANGED *****************
{
  &#34;changed&#34; : true,
  &#34;end&#34; : 1633980549689,
  &#34;resource&#34; : {
    &#34;operation&#34; : &#34;ADD&#34;,
    &#34;principal_type&#34; : &#34;User&#34;,
    &#34;principal_name&#34; : &#34;kafka-user&#34;,
    &#34;resource_pattern&#34; : &#34;*&#34;,
    &#34;pattern_type&#34; : &#34;LITERAL&#34;,
    &#34;resource_type&#34; : &#34;TOPIC&#34;,
    &#34;operation&#34; : &#34;ALL&#34;,
    &#34;permission&#34; : &#34;ALLOW&#34;,
    &#34;host&#34; : &#34;*&#34;,
    &#34;name&#34; : &#34;kafka-user&#34;,
    &#34;principal&#34; : &#34;User:kafka-user&#34;
  },
  &#34;failed&#34; : false,
  &#34;status&#34; : &#34;CHANGED&#34;
}
EXECUTION in 2s 146ms
ok : 0, created : 3, altered : 0, deleted : 0 failed : 0
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-28aa2c325f10209e8fcf190b6c2b8f95>3 - Quotas</h1><div class=lead>Learn how to define quotas for consumers and/or producers.</div><p>Jikkou allows defining the quotas to apply to consumers and/or producers identified by a <code>client-id</code> or a user <code>principal</code>.</p><h2 id=the-resource-specification-file>The Resource Specification File</h2><p>The <em>resource specification file</em> for defining <code>quotas</code> contains the following fields:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># The jikkou API version (required)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>quotas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#204a87;font-weight:700>type</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The quota type (required)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>entity</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>client_id</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The id of the client (required depending on the quota type).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>user</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#000>The principal of the user (required depending on the quota type).</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>request_byte_rate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The quota in percentage (%) of total requests (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>producer_byte_rate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The quota in bytes for restricting data production (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>consumer_byte_rate</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The quota in bytes for restricting data consumption (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>The list below describes the supported quota types:</strong></p><ul><li><code>USERS_DEFAULT</code>: Set default quotas for all users.</li><li><code>USER</code>: Set quotas for a specific user principal.</li><li><code>USER_CLIENT</code>: Set quotas for a specific user principal and a specific client-id.</li><li><code>USER_ALL_CLIENTS</code>: Set default quotas for a specific user and all clients.</li><li><code>CLIENT</code>: Set default quotas for a specific client.</li><li><code>CLIENTS_DEFAULT</code>: Set default quotas for all clients.</li></ul><h2 id=usage>Usage</h2><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ jikkou quotas -h
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Apply the quotas changes described by your specs-file against the Kafka cluster you are currently pointing at.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>jikkou quotas <span style=color:#ce5c00;font-weight:700>[</span>-hV<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>COMMAND<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Description:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>This <span style=color:#204a87>command</span> can be used to create, alter, delete or describe quotas on a remote Kafka cluster
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Options:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  -h, --help      Show this <span style=color:#204a87>help</span> message and exit.
</span></span><span style=display:flex><span>  -V, --version   Print version information and exit.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Commands:
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  alter     Update the client quotas on the cluster as describe in the specification file.
</span></span><span style=display:flex><span>  apply     Apply all changes to the Kafka client quotas.
</span></span><span style=display:flex><span>  create    Create the client quotas missing on the cluster as describe in the specification file.
</span></span><span style=display:flex><span>  delete    Delete all client-quotas not described in the specification file.
</span></span><span style=display:flex><span>  describe  Describe quotas that currently exist on the remote Kafka cluster.
</span></span><span style=display:flex><span>  <span style=color:#204a87>help</span>      Displays <span style=color:#204a87>help</span> information about the specified <span style=color:#204a87>command</span>
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-f0e4e590ff7bcc34710bd5693e8fa6e9>4 - Template</h1><div class=lead>Learn how to use templating to dynamically build resource specification files for Jikkou.</div><h2 id=template-engine>Template Engine</h2><p>Jikkou provides a simple templating mechanism based-on <a href=https://github.com/HubSpot/jinjava>Jinjava</a>, a Jinja template engine for Java.
Basically, templating helps you to reuse the same <em>resource specification files</em> for multiple Apache Kafka environments by dynamically generating resource specifications and/or config properties from external data.</p><p>Read the official documentation of <a href=https://jinja.palletsprojects.com/en/3.1.x/templates/#base-template>Jinja</a> to learn more about the syntax and semantics of the template engine.</p><h2 id=how-does-it-work->How Does It Work ?</h2><p>Jikkou performs the rendering of your template in two phases:</p><ol><li>First, an initial rendering is performed using only the <code>values</code> and <code>labels</code> passed through the command-lines arguments.<ul><li>Thus, it is perfectly OK if your resource file is not initially a valid YAML file.</li></ul></li><li>Then, a second and final rendering is performed after parsing the YAML resource file using the additional <code>values</code> and <code>labels</code> as defined into the YAML resource file.<ul><li>Therefore, it&rsquo;s important that your resource file is converted into a valid YAML file after the first rendering.</li></ul></li></ol><figure class=center><img src=/docs/user-guide/template/jikkou-template-how-it-work.png width=50%></figure><div class="alert alert-warning" role=alert><h4 class=alert-heading>Important</h4>You should use <code>{% raw %}...{% endraw %}</code> tags to ensure the variables defined into the <code>template</code> are not be interpreted during the first rendering.</div><h2 id=variables>Variables</h2><p>Jikkou defines a number of top-level variables that are passed to the template engine.</p><ul><li><p><code>values</code>:</p><ul><li>The values passed into the template through the command-line <code>--values-files</code> and/or <code>--set-value</code> arguments</li><li>In addition, values can be defined into the <code>application.conf</code> file and directly into the template file using the property <code>template.values</code>.</li><li>By default, <code>values</code> is empty.</li></ul></li><li><p><code>labels</code>:</p><ul><li>The labels passed into the template through the command-line argument: <code>--set-label</code>.</li><li>In addition, labels can be defined into the template file using the property <code>metadata.labels</code>.</li><li>By default, <code>labels</code> is empty.</li></ul></li><li><p><code>system.env</code>:</p><ul><li>This provides access to all environment variables.</li></ul></li><li><p><code>system.props</code>:</p><ul><li>This provides access to all system properties.</li></ul></li></ul><h2 id=the-resource-specification-file>The Resource Specification File</h2><p>When using templating the <em>resource specification file</em> may contain the following additional <code>metadata</code> and <code>template</code> fields:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#8f5902;font-style:italic># The jikkou API version (required)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>metadata</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>labels</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The set of key/value pairs that you can use to describe your specification file (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>annotations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The set of key/value pairs automatically generated by the tool (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>template</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>values</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The set of key/value pairs to be passed to the template engine (optional)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>The specification of resources</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=examples>Examples</h2><p><strong>Template Data File</strong></p><p>Create a file named <code>values.yaml</code> with the following content:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>topic_prefix</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{ system.env.TOPIC_PREFIX | default(&#39;&#39;, true) }}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>default_replication_factor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{ system.env.DEFAULT_REPLICATION_FACTOR | default(3, true) }}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>locations</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>fr</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>be</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>de</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>es</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>uk</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span>- <span style=color:#000>us</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>This file defines all the data (i.e., the variables) that will be passed to the template engine.</p><p><strong>Resource Specification File</strong></p><p>Create a file named <code>topics.tpl</code> with the following contents:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>apiVersion</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>template</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>values</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>default_min_insync_replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{ system.env.DEFAULT_REPLICATION_FACTOR | default(3, true) | int | add(-1) }}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>spec</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>config_maps</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>DefaultTopicConfig</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>configs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>retention.ms</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#0000cf;font-weight:700>604800000</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>min.insync.replicas</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{% raw %}{{ values.default_min_insync_replicas }}{% endraw %}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>topics</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>{<span style=color:#000>% for location in values.locations %}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#204a87;font-weight:700>name</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;{{ values.topic_prefix}}-iot-events-{{ location }}&#34;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>partitions</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>{{<span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>values.topic_configs.partitions }}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>replication_factor</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span>{{<span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>values.topic_configs.replication_factor }}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>config_map_refs</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>[</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#39;DefaultTopicConfig&#39;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>]</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span>{<span style=color:#000>% endfor %}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p><strong>Command</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$  <span style=color:#000>TOPIC_PREFIX</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>local</span> jikkou validate --files topics.tpl --values-files values.yaml 
</span></span></code></pre></div><p><strong>Output</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>apiVersion: &#34;1&#34;
</span></span><span style=display:flex><span>metadata:
</span></span><span style=display:flex><span>  annotations:
</span></span><span style=display:flex><span>    generated: &#34;2022-06-12T00:00:00.000000000Z&#34;
</span></span><span style=display:flex><span>    resource: &#34;/tmp/topics.tpl&#34;
</span></span><span style=display:flex><span>  labels: {}
</span></span><span style=display:flex><span>spec:
</span></span><span style=display:flex><span>  brokers: []
</span></span><span style=display:flex><span>  topics:
</span></span><span style=display:flex><span>  - name: &#34;local-iot-events-fr&#34;
</span></span><span style=display:flex><span>    configs:
</span></span><span style=display:flex><span>      min.insync.replicas: &#34;2&#34;
</span></span><span style=display:flex><span>      retention.ms: 604800000
</span></span><span style=display:flex><span>  - name: &#34;local-iot-events-be&#34;
</span></span><span style=display:flex><span>    configs:
</span></span><span style=display:flex><span>      min.insync.replicas: &#34;2&#34;
</span></span><span style=display:flex><span>      retention.ms: 604800000
</span></span><span style=display:flex><span>  - name: &#34;local-iot-events-de&#34;
</span></span><span style=display:flex><span>    configs:
</span></span><span style=display:flex><span>      min.insync.replicas: &#34;2&#34;
</span></span><span style=display:flex><span>      retention.ms: 604800000
</span></span><span style=display:flex><span>  - name: &#34;local-iot-events-es&#34;
</span></span><span style=display:flex><span>    configs:
</span></span><span style=display:flex><span>      min.insync.replicas: &#34;2&#34;
</span></span><span style=display:flex><span>      retention.ms: 604800000
</span></span><span style=display:flex><span>  - name: &#34;local-iot-events-uk&#34;
</span></span><span style=display:flex><span>    configs:
</span></span><span style=display:flex><span>      min.insync.replicas: &#34;2&#34;
</span></span><span style=display:flex><span>      retention.ms: 604800000
</span></span><span style=display:flex><span>  - name: &#34;local-iot-events-us&#34;
</span></span><span style=display:flex><span>    configs:
</span></span><span style=display:flex><span>      min.insync.replicas: &#34;2&#34;
</span></span><span style=display:flex><span>      retention.ms: 604800000
</span></span><span style=display:flex><span>  quotas: []
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-71bc1e6fdc1951004479e19314dd3b2c>5 - Validations</h1><div class=lead>Learn how to use the validations for ensuring resource entity configurations meets your requirements before being created and/or updated.</div><h2 id=introduction>Introduction</h2><p>Jikkou allows running validation rules on declared resources (i.e. <em>Topics</em>, <em>Quotas</em>, <em>ACLs</em>, etc) before executing any action on your Kafka cluster.</p><p>To do that, the validations to be applied must be configured in your <code>application.conf</code>.</p><p>For example, the below configuration shows how to use the validation <code>io.streamthoughts.jikkou.api.validations.TopicNameRegexValidation</code> class
to verify that all topic names match a given regex.</p><pre tabindex=0><code class=language-hocon data-lang=hocon>jikkou {
    validations = [
        {
          # The fully-qualified name of the Validation class, e.g.:
          type = io.streamthoughts.jikkou.api.validations.TopicNameRegexValidation
          # The config values that will be passed to the Validation.
          config = {
            topic-regex = &#34;[a-zA-Z0-9\\._\\-]+&#34;
          }
        }
   ]
}
</code></pre><div class="alert alert-info" role=alert><h4 class=alert-heading>About validation's configuration</h4>The <code>config</code> object of a validation will always fallback on the top-level <code>jikkou</code> config. This allowed to declare some validation config properties globally.</div><h2 id=built-in-validations>Built-in Validations</h2><p>Jikkou ships with the following built-in <em>validations</em>:</p><p><code>TopicConfigKeysValidation</code></p><p>The <code>TopicConfigKeysValidation</code> allows checking if the specified topic configs are all valid.</p><p><strong>Configuration</strong></p><ul><li><code>type</code>: <code>io.streamthoughts.jikkou.api.validations.TopicConfigKeysValidation</code></li></ul><h3 id=topicminnumpartitions><code>TopicMinNumPartitions</code></h3><p>The <code>TopicMinNumPartitions</code> allows checking if the specified number of partitions for a topic is not less than the minimum required.</p><p><strong>Configuration</strong></p><ul><li><code>type</code>: <code>io.streamthoughts.kafka.specs.validations.TopicMinNumPartitionsValidation</code></li><li><code>config</code>:<ul><li><code>topic-min-num-partitions</code>: (default: <code>1</code>)</li></ul></li></ul><h3 id=topicmaxnumpartitions><code>TopicMaxNumPartitions</code></h3><p>The <code>TopicMaxNumPartitions</code> allows checking if the number of partitions for a topic is not greater than the maximum configured.</p><p><strong>Configuration</strong></p><ul><li><code>type</code>: <code>io.streamthoughts.kafka.specs.validations.TopicMaxNumPartitions</code></li><li><code>config</code>:<ul><li><code>topic-max-num-partitions</code>:</li></ul></li></ul><h3 id=topicminreplicationfactor><code>TopicMinReplicationFactor</code></h3><p>The <code>TopicMinReplicationFactor</code> allows checking if the specified replication factor for a topic is not less than the minimum required.</p><p><strong>Configuration</strong></p><ul><li><code>type</code>: <code>io.streamthoughts.kafka.specs.validations.TopicMinReplicationFactor</code></li><li><code>config</code>:<ul><li><code>topic-min-replication-factor</code>: (default: <code>1</code>)</li></ul></li></ul><h3 id=topicmaxreplicationfactor><code>TopicMaxReplicationFactor</code></h3><p>The <code>TopicMaxReplicationFactor</code> allows checking if the specified replication factor for a topic is not greater than the maximum configured.</p><p><strong>Configuration</strong></p><ul><li><code>type</code>: <code>io.streamthoughts.kafka.specs.validations.TopicMaxReplicationFactor</code></li><li><code>config</code>:<ul><li><code>topic-max-replication-factor</code>: (default: <code>1</code>)</li><li></li></ul></li></ul><h3 id=topicnameprefix><code>TopicNamePrefix</code></h3><p>The <code>TopicNamePrefix</code> allows checking if the specified name for a topic starts with one of the configured suffixes.</p><p><strong>Configuration</strong></p><ul><li><code>type</code>: <code>io.streamthoughts.kafka.specs.validations.TopicNamePrefix</code></li><li><code>config</code>:<ul><li><code>topic-name-prefixes-allowed</code>:</li></ul></li></ul><h3 id=topicnameregex><code>TopicNameRegex</code></h3><p>The <code>TopicNameRegex</code> allows checking if the specified name for a topic matches the configured regex.</p><p><strong>Configuration</strong></p><h3 id=topicnamesuffix><code>TopicNameSuffix</code></h3><p>The <code>TopicNameSuffix</code> allows checking if the specified name for a topic ends with one of the configured suffixes.</p><ul><li><code>type</code>: <code>io.streamthoughts.kafka.specs.validations.TopicNameSuffix</code></li><li><code>config</code>:<ul><li><code>topic-name-suffixes-allowed</code>:</li></ul></li></ul><h2 id=default-configuration>Default configuration</h2><p>By default, Jikkou is configured with the following <em>validations</em>:</p><ul><li><code>TopicConfigKeysValidation</code></li><li><code>TopicMinNumPartitionsValidation</code></li><li><code>TopicMinReplicationFactorValidation</code></li><li><code>TopicNameRegexValidation</code></li></ul><p>You can easily override the config values for those validations by setting the following environment variables:</p><ul><li><code>VALIDATION_DEFAULT_TOPIC_NAME_REGEX</code></li><li><code>VALIDATION_DEFAULT_TOPIC_MIN_NUM_PARTITIONS</code></li><li><code>VALIDATION_DEFAULT_TOPIC_MIN_REPLICATION_FACTOR</code></li></ul><h2 id=validation-report>Validation Report</h2><p>All validation rule errors are reported in the following form:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Validation rule violations:
</span></span><span style=display:flex><span>- [TopicNameRegex]: Name for topic &#39;my_topic&#39; does not match the configured regex: [a-zA-Z0-9\.\-]+
</span></span><span style=display:flex><span>- [TopicMinNumPartitions]: Number of partitions for topic &#39;my_topic&#39; is less than the minimum required: 1 &lt; 3
</span></span><span style=display:flex><span>- [TopicMinReplicationFactor]: Replication factor for topic &#39;my-topic&#39; is less than the minimum required: 1 &lt; 3
</span></span></code></pre></div></div><div class=td-content style=page-break-before:always><h1 id=pg-3089d7a09c37e3ba44ee5d7f2245244c>6 - Transformations</h1><div class=lead>Learn how to use the transformations for modifying resource entity configurations before being created and/or updated.</div><h2 id=introduction>Introduction</h2><p>Jikkou allows you to plug custom transformations on declared resources (i.e. <em>Topics</em>, <em>Quotas</em>, <em>ACLs</em>, etc) before executing any action on your Kafka cluster and before executing validation rules.</p><h2 id=configuration>Configuration</h2><p>To do that, you should implement the <code>io.streamthoughts.kafka.specs.transforms.Transformation</code> interface transformations.
Then, transformation must be configured in your <code>application.conf</code> file as follows:</p><pre tabindex=0><code class=language-hocon data-lang=hocon>jikkou {
    transformations = [
        {
          # The fully-qualified name of the Transformation class, e.g.:
          type = ...
          # The config values that will be passed to the Transformation.
          config = {}
        }
   ]
}
</code></pre><h2 id=built-in-transformations>Built-in Transformations</h2></div><div class=td-content style=page-break-before:always><h1 id=pg-dccd21df1000ed2be16ff25dbd562e3f>7 - Kafka Resource Manager</h1><div class=lead>Learn how to configure custom manager for kafka resources</div><h2 id=principal>Principal</h2><p>Internally, the Jikkou&rsquo;s API defined various <code>KafkaResourceManager</code> sub-interfaces for managing each type of Kafka resources</p><ul><li><a href=https://github.com/streamthoughts/jikkou/tree/master/src/main/java/io/streamthoughts/jikkou/api/manager/KafkaTopicManager.java><code>KafkaTopicManager</code></a></li><li><a href=https://github.com/streamthoughts/jikkou/tree/master/src/main/java/io/streamthoughts/jikkou/api/manager/KafkaBrokerManager.java><code>KafkaBrokerManager</code></a></li><li><a href=https://github.com/streamthoughts/jikkou/tree/master/src/main/java/io/streamthoughts/jikkou/api/manager/KafkaAclsManager.java><code>KafkaAclsManager</code></a></li><li><a href=https://github.com/streamthoughts/jikkou/tree/master/src/main/java/io/streamthoughts/jikkou/api/manager/KafkaQuotaManager.java><code>KafkaQuotaManager</code></a></li></ul><p>Currently, Jikkou provides built-in implementations for each of these interface based on the Kafka&rsquo;s AdminClient.
Thus, depending on the Kafka service manager you use, you may need to implement custom managers for supporting more features.</p><p>Finally, the implementations to be used the Jikkou can be configured directly in your <code>application.conf</code> file.</p><pre tabindex=0><code class=language-hocon data-lang=hocon>jikkou {
    # The KafkaResourceManager classes and configurations used for managing kafka resources
    managers {
        kafka {
            brokers {
                type = io.streamthoughts.jikkou.api.manager.kafka.AdminClientKafkaBrokerManager
                config = {}
            }
            topics {
                type = io.streamthoughts.jikkou.api.manager.kafka.AdminClientKafkaTopicManager
                config = {}
            }
            acls {
                type = io.streamthoughts.jikkou.api.manager.kafka.AdminClientKafkaAclsManager
                config = {}
            }
            quotas {
                type = io.streamthoughts.jikkou.api.manager.kafka.AdminClientKafkaQuotasManager
                config = {}
            }
        }
    }
}
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-dbc4c5b712c5b3b03db289f980a70e0b>8 - Extensions</h1><div class=lead>Learn how to extend Jikkou</div><h2 id=extensions>Extensions</h2><p>Jikkou allows implementing and configuring extensions, i.e., <em><code>Validation</code></em>, and <em><code>Transformer</code></em>.</p><p>Jikkou&rsquo;s sources are available on<a href=https://mvnrepository.com/artifact/io.streamthoughts/jikkou>Maven Central</a></p><p><strong>For Maven:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>io.streamthoughts<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>jikkou<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>${jikkou.version}<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p><strong>For Gradle:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>implementation group: &#39;io.streamthoughts&#39;, name: &#39;jikkou&#39;, version: ${jikkou.version}
</span></span></code></pre></div><h2 id=packaging>Packaging</h2><p>To make your extensions available to Jikkou, install them into one or many local directories.
Then, use the <code>jikkou.extension.paths</code> property to configure the list of locations from which the extensions will be loaded.</p><p>Each configured directories may contain:</p><ul><li>an uber JAR containing all the classes and third-party dependencies for the extensions.</li><li>a directory containing all JARs for the extensions.</li></ul></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel=noopener href=https://twitter.com/streamthought_ aria-label=Twitter><i class="fab fa-twitter"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/streamthoughts/jikkou aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The Jikkou Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.b1a17f09c4ec09850521ce93d0b8a2c715ad127182dd8c260698c1adf061dfe0.js integrity="sha256-saF/CcTsCYUFIc6T0LiixxWtEnGC3YwmBpjBrfBh3+A=" crossorigin=anonymous></script></body></html>